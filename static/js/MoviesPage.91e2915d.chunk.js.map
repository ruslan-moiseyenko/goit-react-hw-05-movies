{"version":3,"file":"static/js/MoviesPage.91e2915d.chunk.js","mappings":"uOAKe,SAASA,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAuBA,OAfAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAYH,EAAaI,IAAI,WAAa,GAChDR,EAAUO,KACT,CAACH,KAEJE,EAAAA,EAAAA,YAAU,WACO,KAAXP,IAIJU,EAAAA,EAAAA,IAAUV,GAAQW,MAAK,SAAAC,GACrBT,EAAUS,EAASC,KAAKC,cAEzB,CAACd,KAGF,+BACE,iBAAKe,UAAU,kBAAf,WACE,kBAAMA,UAAU,iBAAiBC,SAxBjB,SAAAC,GACpBA,EAAEC,iBACF,IAAQC,EAAUF,EAAEG,OAAOpB,OAAnBmB,MACRlB,EAAUkB,GACVb,EAAgB,CAAEN,OAAQmB,KAoBtB,WACE,kBAAOE,KAAK,SAASC,KAAK,SAASC,YAAY,wBAC/C,kBAAOF,KAAK,SAASF,MAAM,eAE7B,gBAAKJ,UAAU,eAAf,UACE,wBACGb,EAAOsB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAArB,SAA4BC,KADrBD,iB,0JCvChB,SAAef,EAAtB,+CAAO,OAAP,oBAAO,WAAyBV,GAAzB,8EACCa,EAAOe,IAAAA,IAAA,mGACiF5B,IAFzF,kBAIEa,GAJF,kEAOA,SAAegB,EAAtB,+CAAO,OAAP,oBAAO,WAAwBC,GAAxB,uFACkBF,IAAAA,IAAA,6CACiBE,EADjB,8CADlB,cACClB,EADD,yBAIEA,GAJF,kEAOA,SAAemB,IAAtB,4CAAO,OAAP,oBAAO,oGACkBH,IAAAA,IACrB,4FAFG,cACChB,EADD,yBAIEA,GAJF","sources":["components/MoviesPage/MoviesPage.js","components/services/moviesAPI.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport './MoiviesPage.css';\nimport { getMovies } from '../services/moviesAPI';\n\nexport default function MoviesPage() {\n  const [search, setSearch] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const onSubmitClick = e => {\n    e.preventDefault();\n    const { value } = e.target.search;\n    setSearch(value);\n    setSearchParams({ search: value });\n  };\n  useEffect(() => {\n    const oldSearch = searchParams.get('search') || '';\n    setSearch(oldSearch);\n  }, [searchParams]);\n\n  useEffect(() => {\n    if (search === '') {\n      return;\n    }\n\n    getMovies(search).then(response => {\n      setMovies(response.data.results);\n    });\n  }, [search]);\n\n  return (\n    <>\n      <div className=\"search__wrapper\">\n        <form className=\"movies__search\" onSubmit={onSubmitClick}>\n          <input type=\"search\" name=\"search\" placeholder=\"Search for a movie\" />\n          <input type=\"submit\" value=\"Search\" />\n        </form>\n        <div className=\"movies__list\">\n          <ul>\n            {movies.map(({ id, title }) => (\n              <li key={id}>\n                <Link to={`/movies/${id}`}>{title}</Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n","import axios from 'axios';\n\nexport async function getMovies(search) {\n  const data = axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=da20cf53e1f8df5e7c28db8c672e3f8f&query=${search}`\n  );\n  return data;\n}\n\nexport async function getMovie(movieID) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieID}?api_key=da20cf53e1f8df5e7c28db8c672e3f8f`\n  );\n  return response;\n}\n\nexport async function getTrendingMovies() {\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?api_key=da20cf53e1f8df5e7c28db8c672e3f8f'\n  );\n  return response;\n}\n"],"names":["MoviesPage","useState","search","setSearch","movies","setMovies","useSearchParams","searchParams","setSearchParams","useEffect","oldSearch","get","getMovies","then","response","data","results","className","onSubmit","e","preventDefault","value","target","type","name","placeholder","map","id","title","to","axios","getMovie","movieID","getTrendingMovies"],"sourceRoot":""}