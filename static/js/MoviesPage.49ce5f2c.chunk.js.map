{"version":3,"file":"static/js/MoviesPage.49ce5f2c.chunk.js","mappings":"uOAKe,SAASA,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAyBA,OAjBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAYH,EAAaI,IAAI,WAAa,GAC5BC,SAASC,eAAe,UAChCC,MAAQJ,EACpBP,EAAUO,KACT,CAACH,KAEJE,EAAAA,EAAAA,YAAU,WACO,KAAXP,IAIJa,EAAAA,EAAAA,IAAUb,GAAQc,MAAK,SAAAC,GACrBZ,EAAUY,EAASC,KAAKC,cAEzB,CAACjB,KAGF,+BACE,iBAAKkB,UAAU,kBAAf,WACE,kBAAMA,UAAU,iBAAiBC,SA1BjB,SAAAC,GACpBA,EAAEC,iBACF,IAAQT,EAAUQ,EAAEE,OAAOtB,OAAnBY,MACRX,EAAUW,GACVN,EAAgB,CAAEN,OAAQY,KAsBtB,WACE,kBACEW,KAAK,SACLC,KAAK,SACLC,YAAY,qBACZC,GAAG,YAEL,kBAAOH,KAAK,SAASX,MAAM,eAE7B,gBAAKM,UAAU,eAAf,UACE,wBACGhB,EAAOyB,KAAI,gBAAGD,EAAH,EAAGA,GAAIE,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaH,GAArB,SAA4BE,KADrBF","sources":["components/MoviesPage/MoviesPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport './MoiviesPage.css';\nimport { getMovies } from '../../services/moviesAPI';\n\nexport default function MoviesPage() {\n  const [search, setSearch] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const onSubmitClick = e => {\n    e.preventDefault();\n    const { value } = e.target.search;\n    setSearch(value);\n    setSearchParams({ search: value });\n  };\n  useEffect(() => {\n    const oldSearch = searchParams.get('search') || '';\n    const searchInput = document.getElementById('search');\n    searchInput.value = oldSearch;\n    setSearch(oldSearch);\n  }, [searchParams]);\n\n  useEffect(() => {\n    if (search === '') {\n      return;\n    }\n\n    getMovies(search).then(response => {\n      setMovies(response.data.results);\n    });\n  }, [search]);\n\n  return (\n    <>\n      <div className=\"search__wrapper\">\n        <form className=\"movies__search\" onSubmit={onSubmitClick}>\n          <input\n            type=\"search\"\n            name=\"search\"\n            placeholder=\"Search for a movie\"\n            id=\"search\"\n          />\n          <input type=\"submit\" value=\"Search\" />\n        </form>\n        <div className=\"movies__list\">\n          <ul>\n            {movies.map(({ id, title }) => (\n              <li key={id}>\n                <Link to={`/movies/${id}`}>{title}</Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":["MoviesPage","useState","search","setSearch","movies","setMovies","useSearchParams","searchParams","setSearchParams","useEffect","oldSearch","get","document","getElementById","value","getMovies","then","response","data","results","className","onSubmit","e","preventDefault","target","type","name","placeholder","id","map","title","to"],"sourceRoot":""}